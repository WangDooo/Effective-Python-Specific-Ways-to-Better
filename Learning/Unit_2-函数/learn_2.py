#================================================================
# 15. 了解如何在闭包里使用外围作用域中的变量
#----------------------------------------------------------------
# numbers = [8,3,1,2,5,4,7,6]
# group = {2,3,7,5} # 这个要优先排列的

# def sort_priority(values, group):
# 	def helper(x):
# 		if x in group:
# 			return (0,x)
# 		return(1,x)
# 	values.sort(key=helper)
# 	# 在调用列表的sort方法时，把辅助函数传给key参数，这个辅助函数的返回值，将会用来确定列表中各元素的顺序
# sort_priority(numbers,group)
# print(numbers)

# # 获取闭包中的数据
# # （1）失败的，作用域bug，局部变量, None
# def sort_priority2(values, group):
# 	found = False
# 	def helper(x):
# 		if x in group:
# 			found = True
# 			return (0,x)
# 		return(1,x)
# 	values.sort(key=helper)
# 	return found
# found = sort_priority2(numbers,group)
# print(numbers,'Found:',found)

# # （2）使用nonlocal  与global语句互为补充，除了比较简单的函数，尽量不要用nonlocal
# def sort_priority3(values, group):
# 	found = False
# 	def helper(x):
# 		nonlocal found
# 		if x in group:
# 			found = True
# 			return (0,x)
# 		return(1,x)
# 	values.sort(key=helper)
# 	return found
# found = sort_priority3(numbers,group)
# print(numbers,'Found:',found)

# # （3）封装成辅助类 与nonlocal效果一样
# class Sorter(object):
# 	def __init__(self,group):
# 		self.group = group
# 		self.found = False
# 	def __call__(self,x):
# 		if x in self.group:
# 			self.found = True
# 			return (0,x)
# 		return (1,x)

# sorter = Sorter(group)
# numbers.sort(key=sorter)
# print(numbers,'Found:',sorter.found)

# # （4）利用作用域
# def sort_priority4(values, group):
# 	found = [False]
# 	def helper(x):
# 		nonlocal found
# 		if x in group:
# 			found[0] = True
# 			return (0,x)
# 		return(1,x)
# 	values.sort(key=helper)
# 	return found[0]
# found = sort_priority3(numbers,group)
# print(numbers,'Found:',found)
#----------------------------------------------------------------


#================================================================
# 16. 考虑用生成器来改写直接返回列表的函数
#-----------------------------------------------------
address = "Four score and seven years ago"
def index_words_iter(text):
	if text:
		yield 0
	for index, letter in enumerate(text):
		if letter == ' ':
			yield index + 1
result = list(index_words_iter(address))
print(result)
#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------


#================================================================
# 
#----------------------------------------------------------------

#----------------------------------------------------------------